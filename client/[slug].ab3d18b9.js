import{S as e,i as t,s as r,o as a,p as s,q as l,v as c,w as i,x as n,a as o,e as h,t as f,g as u,c as g,b as m,d as v,f as p,h as d,k as A,l as $,y as E,G as w,J as b,N as j,F as I}from"./index.47cb3db4.js";import{M as L}from"./Meta.f0c7970d.js";import{A as x}from"./Article.15023632.js";import{P as z}from"./prism.3fa19f60.js";function M(e,t,r){const a=Object.create(e);return a.article=t[r],a}function H(e){let t;const r=new x({props:{article:e.article}});return{c(){a(r.$$.fragment)},l(e){s(r.$$.fragment,e)},m(e,a){l(r,e,a),t=!0},p(e,t){const a={};e.otherArticles&&(a.article=t.article),r.$set(a)},i(e){t||(c(r.$$.fragment,e),t=!0)},o(e){i(r.$$.fragment,e),t=!1},d(e){n(r,e)}}}function S(e){let t,r,j,x,z,S,y,T,D,V,k,F,N,P,q,U,B,G,J,O,Y,C,K,Q,R,W,X,Z,_,ee,te,re,ae,se,le=e.article.title+"",ce=e.article.title+"",ie=e.article.html+"",ne=e.article.author+"";const oe=new L({props:{title:e.article.title,url:"/articles/"+e.article.slug+"/",description:e.article.description,image:e.article.image}});let he=e.otherArticles,fe=[];for(let t=0;t<he.length;t+=1)fe[t]=H(M(e,he,t));const ue=e=>i(fe[e],1,1,()=>{fe[e]=null});return{c(){a(oe.$$.fragment),t=o(),r=h("div"),j=h("main"),x=h("nav"),z=h("ul"),S=h("li"),y=h("a"),T=f("Features"),D=o(),V=h("li"),k=h("a"),F=f("Articles"),N=o(),P=h("li"),q=h("a"),U=f(le),G=o(),J=h("h1"),O=f(ce),Y=o(),C=h("div"),K=o(),Q=h("div"),R=o(),W=h("aside"),X=h("h2"),Z=f("See also"),_=o();for(let e=0;e<fe.length;e+=1)fe[e].c();ee=o(),te=h("p"),re=h("a"),ae=f("See all"),this.h()},l(e){s(oe.$$.fragment,e),t=u(e),r=g(e,"DIV",{class:!0});var a=m(r);j=g(a,"MAIN",{class:!0});var l=m(j);x=g(l,"NAV",{class:!0,"aria-label":!0});var c=m(x);z=g(c,"UL",{});var i=m(z);S=g(i,"LI",{});var n=m(S);y=g(n,"A",{href:!0});var o=m(y);T=v(o,"Features"),o.forEach(p),n.forEach(p),D=u(i),V=g(i,"LI",{});var h=m(V);k=g(h,"A",{href:!0});var f=m(k);F=v(f,"Articles"),f.forEach(p),h.forEach(p),N=u(i),P=g(i,"LI",{class:!0});var d=m(P);q=g(d,"A",{href:!0,"aria-current":!0});var A=m(q);U=v(A,le),A.forEach(p),d.forEach(p),i.forEach(p),c.forEach(p),G=u(l),J=g(l,"H1",{});var $=m(J);O=v($,ce),$.forEach(p),Y=u(l),C=g(l,"DIV",{class:!0}),m(C).forEach(p),K=u(l),Q=g(l,"DIV",{class:!0}),m(Q).forEach(p),l.forEach(p),R=u(a),W=g(a,"ASIDE",{class:!0});var E=m(W);X=g(E,"H2",{class:!0});var w=m(X);Z=v(w,"See also"),w.forEach(p),_=u(E);for(let e=0;e<fe.length;e+=1)fe[e].l(E);ee=u(E),te=g(E,"P",{class:!0});var b=m(te);re=g(b,"A",{href:!0,class:!0});var I=m(re);ae=v(I,"See all"),I.forEach(p),b.forEach(p),E.forEach(p),a.forEach(p),this.h()},h(){d(y,"href","/"),d(k,"href","/articles/"),d(q,"href",B="/articles/"+e.article.slug+"/"),d(q,"aria-current","page"),d(P,"class","is-active"),d(x,"class","breadcrumb"),d(x,"aria-label","breadcrumbs"),d(C,"class","content language-javascript svelte-nzu3si"),d(Q,"class","author svelte-nzu3si"),d(j,"class","svelte-nzu3si"),d(X,"class","svelte-nzu3si"),d(re,"href","/articles/"),d(re,"class","button"),d(te,"class","text-center see-all svelte-nzu3si"),d(W,"class","svelte-nzu3si"),d(r,"class","container svelte-nzu3si")},m(e,a){l(oe,document.head,null),A(e,t,a),A(e,r,a),$(r,j),$(j,x),$(x,z),$(z,S),$(S,y),$(y,T),$(z,D),$(z,V),$(V,k),$(k,F),$(z,N),$(z,P),$(P,q),$(q,U),$(j,G),$(j,J),$(J,O),$(j,Y),$(j,C),C.innerHTML=ie,$(j,K),$(j,Q),Q.innerHTML=ne,$(r,R),$(r,W),$(W,X),$(X,Z),$(W,_);for(let e=0;e<fe.length;e+=1)fe[e].m(W,null);$(W,ee),$(W,te),$(te,re),$(re,ae),se=!0},p(e,t){const r={};if(e.article&&(r.title=t.article.title),e.article&&(r.url="/articles/"+t.article.slug+"/"),e.article&&(r.description=t.article.description),e.article&&(r.image=t.article.image),oe.$set(r),se&&!e.article||le===(le=t.article.title+"")||E(U,le),(!se||e.article&&B!==(B="/articles/"+t.article.slug+"/"))&&d(q,"href",B),se&&!e.article||ce===(ce=t.article.title+"")||E(O,ce),se&&!e.article||ie===(ie=t.article.html+"")||(C.innerHTML=ie),se&&!e.article||ne===(ne=t.article.author+"")||(Q.innerHTML=ne),e.otherArticles){let r;for(he=t.otherArticles,r=0;r<he.length;r+=1){const a=M(t,he,r);fe[r]?(fe[r].p(e,a),c(fe[r],1)):(fe[r]=H(a),fe[r].c(),c(fe[r],1),fe[r].m(W,ee))}for(I(),r=he.length;r<fe.length;r+=1)ue(r);w()}},i(e){if(!se){c(oe.$$.fragment,e);for(let e=0;e<he.length;e+=1)c(fe[e]);se=!0}},o(e){i(oe.$$.fragment,e),fe=fe.filter(Boolean);for(let e=0;e<fe.length;e+=1)i(fe[e]);se=!1},d(e){n(oe),e&&p(t),e&&p(r),b(fe,e)}}}async function y({params:e,query:t}){try{const t=await this.fetch(`/articles/${e.slug}.json`);if(!t.ok)throw t;const a=await t.json(),s=await this.fetch("/articles.json"),l=await s.json(),c=(r=a,e=>r.tags.filter(t=>e.tags.includes(t)).length),i=l.filter(e=>e.slug!==a.slug).sort((e,t)=>{const r=c(e),a=c(t);return r>a?-1:r<a?1:e.weight>t.weight?-1:e.weight<t.weight?1:0});return{article:a,otherArticles:i.slice(0,3)}}catch(e){499===e.status?this.error("You're offline","This content was not cached for offline use. Please return while connected to the network."):this.error(e.status||"500",e.message||"Unexpected error")}var r}function T(e,t,r){let{article:a}=t,{otherArticles:s}=t;return j(()=>{z.highlightAll({async:!0})}),e.$set=e=>{"article"in e&&r("article",a=e.article),"otherArticles"in e&&r("otherArticles",s=e.otherArticles)},{article:a,otherArticles:s}}export default class extends e{constructor(e){super(),t(this,e,T,S,r,{article:0,otherArticles:0})}}export{y as preload};
