import{a as r,b as e,c as t,d as a,i as s,e as c,S as i,s as n,v as l,w as o,x as f,A as u,B as h,C as v,g,f as m,t as p,m as A,h as d,j as $,k as E,l as w,o as b,q as x,r as j,D as L,L as I,P as z,W as M,K as H}from"./index.95ec79ca.js";import{_ as S}from"./index.02a02c24.js";import{M as D}from"./Meta.ebcaa035.js";import{A as T}from"./Article.c4a645a5.js";import{P as k}from"./prism.1bb46c8c.js";function P(r,e,t){var a=Object.create(r);return a.article=e[t],a}function V(r){var e,t=new T({props:{article:r.article}});return{c:function(){l(t.$$.fragment)},l:function(r){o(t.$$.fragment,r)},m:function(r,a){f(t,r,a),e=!0},p:function(r,e){var a={};r.otherArticles&&(a.article=e.article),t.$set(a)},i:function(r){e||(u(t.$$.fragment,r),e=!0)},o:function(r){h(t.$$.fragment,r),e=!1},d:function(r){v(t,r)}}}function y(r){for(var e,t,a,s,c,i,n,M,S,T,k,y,q,B,F,N,U,C,K,O,W,Y,_,G,J,Q,R,X,Z,rr,er,tr,ar,sr,cr=r.article.title+"",ir=r.article.title+"",nr=r.article.html+"",lr=r.article.author+"",or=new D({props:{title:r.article.title,url:"/articles/"+r.article.slug+"/",description:r.article.description,image:r.article.image}}),fr=r.otherArticles,ur=[],hr=0;hr<fr.length;hr+=1)ur[hr]=V(P(r,fr,hr));var vr=function(r){return h(ur[r],1,1,(function(){ur[r]=null}))};return{c:function(){l(or.$$.fragment),e=g(),t=m("div"),a=m("main"),s=m("nav"),c=m("ul"),i=m("li"),n=m("a"),M=p("Features"),S=g(),T=m("li"),k=m("a"),y=p("Articles"),q=g(),B=m("li"),F=m("a"),N=p(cr),C=g(),K=m("h1"),O=p(ir),W=g(),Y=m("div"),_=g(),G=m("div"),J=g(),Q=m("aside"),R=m("h2"),X=p("See also"),Z=g();for(var r=0;r<ur.length;r+=1)ur[r].c();rr=g(),er=m("p"),tr=m("a"),ar=p("See all"),this.h()},l:function(r){o(or.$$.fragment,r),e=A(r),t=d(r,"DIV",{class:!0});var l=$(t);a=d(l,"MAIN",{class:!0});var f=$(a);s=d(f,"NAV",{class:!0,"aria-label":!0});var u=$(s);c=d(u,"UL",{});var h=$(c);i=d(h,"LI",{});var v=$(i);n=d(v,"A",{href:!0});var g=$(n);M=E(g,"Features"),g.forEach(w),v.forEach(w),S=A(h),T=d(h,"LI",{});var m=$(T);k=d(m,"A",{href:!0});var p=$(k);y=E(p,"Articles"),p.forEach(w),m.forEach(w),q=A(h),B=d(h,"LI",{class:!0});var b=$(B);F=d(b,"A",{href:!0,"aria-current":!0});var x=$(F);N=E(x,cr),x.forEach(w),b.forEach(w),h.forEach(w),u.forEach(w),C=A(f),K=d(f,"H1",{});var j=$(K);O=E(j,ir),j.forEach(w),W=A(f),Y=d(f,"DIV",{class:!0}),$(Y).forEach(w),_=A(f),G=d(f,"DIV",{class:!0}),$(G).forEach(w),f.forEach(w),J=A(l),Q=d(l,"ASIDE",{class:!0});var L=$(Q);R=d(L,"H2",{class:!0});var I=$(R);X=E(I,"See also"),I.forEach(w),Z=A(L);for(var z=0;z<ur.length;z+=1)ur[z].l(L);rr=A(L),er=d(L,"P",{class:!0});var H=$(er);tr=d(H,"A",{href:!0,class:!0});var D=$(tr);ar=E(D,"See all"),D.forEach(w),H.forEach(w),L.forEach(w),l.forEach(w),this.h()},h:function(){b(n,"href","/"),b(k,"href","/articles/"),b(F,"href",U="/articles/"+r.article.slug+"/"),b(F,"aria-current","page"),b(B,"class","is-active"),b(s,"class","breadcrumb"),b(s,"aria-label","breadcrumbs"),b(Y,"class","content language-javascript svelte-nzu3si"),b(G,"class","author svelte-nzu3si"),b(a,"class","svelte-nzu3si"),b(R,"class","svelte-nzu3si"),b(tr,"href","/articles/"),b(tr,"class","button"),b(er,"class","text-center see-all svelte-nzu3si"),b(Q,"class","svelte-nzu3si"),b(t,"class","container svelte-nzu3si")},m:function(r,l){f(or,document.head,null),x(r,e,l),x(r,t,l),j(t,a),j(a,s),j(s,c),j(c,i),j(i,n),j(n,M),j(c,S),j(c,T),j(T,k),j(k,y),j(c,q),j(c,B),j(B,F),j(F,N),j(a,C),j(a,K),j(K,O),j(a,W),j(a,Y),Y.innerHTML=nr,j(a,_),j(a,G),G.innerHTML=lr,j(t,J),j(t,Q),j(Q,R),j(R,X),j(Q,Z);for(var o=0;o<ur.length;o+=1)ur[o].m(Q,null);j(Q,rr),j(Q,er),j(er,tr),j(tr,ar),sr=!0},p:function(r,e){var t={};if(r.article&&(t.title=e.article.title),r.article&&(t.url="/articles/"+e.article.slug+"/"),r.article&&(t.description=e.article.description),r.article&&(t.image=e.article.image),or.$set(t),sr&&!r.article||cr===(cr=e.article.title+"")||L(N,cr),(!sr||r.article&&U!==(U="/articles/"+e.article.slug+"/"))&&b(F,"href",U),sr&&!r.article||ir===(ir=e.article.title+"")||L(O,ir),sr&&!r.article||nr===(nr=e.article.html+"")||(Y.innerHTML=nr),sr&&!r.article||lr===(lr=e.article.author+"")||(G.innerHTML=lr),r.otherArticles){var a;for(fr=e.otherArticles,a=0;a<fr.length;a+=1){var s=P(e,fr,a);ur[a]?(ur[a].p(r,s),u(ur[a],1)):(ur[a]=V(s),ur[a].c(),u(ur[a],1),ur[a].m(Q,rr))}for(H(),a=fr.length;a<ur.length;a+=1)vr(a);I()}},i:function(r){if(!sr){u(or.$$.fragment,r);for(var e=0;e<fr.length;e+=1)u(ur[e]);sr=!0}},o:function(r){h(or.$$.fragment,r),ur=ur.filter(Boolean);for(var e=0;e<ur.length;e+=1)h(ur[e]);sr=!1},d:function(r){v(or),r&&w(e),r&&w(t),z(ur,r)}}}var q=function(r){return function(e){return r.tags.filter((function(r){return e.tags.includes(r)})).length}};function B(r){var e,t,a,s,c,i,n;return S.async((function(l){for(;;)switch(l.prev=l.next){case 0:return e=r.params,r.query,l.prev=1,l.next=4,S.awrap(this.fetch("/articles/".concat(e.slug,".json")));case 4:if((t=l.sent).ok){l.next=7;break}throw t;case 7:return l.next=9,S.awrap(t.json());case 9:return a=l.sent,l.next=12,S.awrap(this.fetch("/articles.json"));case 12:return s=l.sent,l.next=15,S.awrap(s.json());case 15:return c=l.sent,i=q(a),n=c.filter((function(r){return r.slug!==a.slug})).sort((function(r,e){var t=i(r),a=i(e);return t>a?-1:t<a?1:r.weight>e.weight?-1:r.weight<e.weight?1:0})),l.abrupt("return",{article:a,otherArticles:n.slice(0,3)});case 21:l.prev=21,l.t0=l.catch(1),499===l.t0.status?this.error("You're offline","This content was not cached for offline use. Please return while connected to the network."):this.error(l.t0.status||"500",l.t0.message||"Unexpected error");case 24:case"end":return l.stop()}}),null,this,[[1,21]])}function F(r,e,t){var a=e.article,s=e.otherArticles;return M((function(){k.highlightAll({async:!0})})),r.$set=function(r){"article"in r&&t("article",a=r.article),"otherArticles"in r&&t("otherArticles",s=r.otherArticles)},{article:a,otherArticles:s}}var N=function(l){function o(r){var i;return e(this,o),i=t(this,a(o).call(this)),s(c(i),r,F,y,n,{article:0,otherArticles:0}),i}return r(o,i),o}();export default N;export{B as preload};
