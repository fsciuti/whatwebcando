<!doctype html> <html lang=en> <head> <meta charset=utf-8> <meta content="Can I rely on the Web Platform features to build my app? An overview of the device integration HTML5 APIs" name=description> <meta content="width=device-width,initial-scale=1" name=viewport> <base href=/ > <link href=https://fonts.gstatic.com/s/sourcesanspro/v13/6xK3dSBYKcSV-LCoeQqfX1RYOo3qOK7lujVj9w.woff2 rel=preload type=font/woff2 as=font crossorigin=anonymous> <link href=https://fonts.gstatic.com/s/sourcesanspro/v13/6xKydSBYKcSV-LCoeQqfX1RYOo3ig4vwlxdu3cOWxw.woff2 rel=preload type=font/woff2 as=font crossorigin=anonymous> <link href=/Material-Design-Icons.woff rel=preload type=font/woff2 as=font crossorigin=anonymous> <style>@font-face{font-family:'Source Sans Pro';font-style:normal;font-weight:400;font-display:swap;src:local('Source Sans Pro Regular'),local('SourceSansPro-Regular'),url(https://fonts.gstatic.com/s/sourcesanspro/v13/6xK3dSBYKcSV-LCoeQqfX1RYOo3qOK7lujVj9w.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Source Sans Pro';font-style:normal;font-weight:700;font-display:swap;src:local('Source Sans Pro Bold'),local('SourceSansPro-Bold'),url(https://fonts.gstatic.com/s/sourcesanspro/v13/6xKydSBYKcSV-LCoeQqfX1RYOo3ig4vwlxdu3cOWxw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:"Material Design Icons";src:url(/Material-Design-Icons.woff) format("woff");font-weight:400;font-style:normal}</style> <link href=icon-76x76.png rel=apple-touch-icon sizes="60x60 72x72 76x76"> <link href=icon-120x120.png rel=apple-touch-icon sizes="114x114 120x120"> <link href=icon-144x144.png rel=apple-touch-icon sizes=144x144> <link href=icon-152x152.png rel=apple-touch-icon sizes=152x152> <link href=icon-180x180.png rel=apple-touch-icon sizes="167x167 180x180"> <link href=icon-32x32.png rel=icon sizes="16x16 32x32" type=image/png> <link href=icon-96x96.png rel=icon sizes=96x96 type=image/png> <link href=icon-192x192.png rel=icon sizes=192x192 type=image/png> <link href=manifest.json rel=manifest> <link href=client/main.4188134553.css rel=stylesheet><link href=client/[feature].html.2825da7c.css rel=stylesheet><link href=client/prism.3fa19f60.css rel=stylesheet> <noscript id=sapper-head-start></noscript><title>What Web Can Do Today: Clipboard (Copy & Paste)</title> <meta content="What Web Can Do Today: Clipboard (Copy & Paste)" property=og:title> <meta content="Can I rely on the Web Platform features to build my app? An overview of the device integration HTML5 APIs." property=og:description> <meta content=https://whatwebcando.today/clipboard.html property=og:url> <meta content=https://whatwebcando.today/images/share-image.png property=og:image> <meta content="What Web Can Do Today: Clipboard (Copy & Paste)" name=twitter:title> <meta content="Can I rely on the Web Platform features to build my app? An overview of the device integration HTML5 APIs." name=twitter:description> <meta content=https://whatwebcando.today/images/share-image.png name=twitter:image><noscript id=sapper-head-end></noscript> <meta content=yes name=apple-mobile-web-app-capable> <meta content=yes name=mobile-web-app-capable> <meta content="What Web Can Do Today" name=application-name> <meta content="What Web Can Do" name=apple-mobile-web-app-title> <meta content=https://whatwebcando.today/icon-144x144.png name=msapplication-TileImage> <meta content=#ffffff name=theme-color> <meta content=#ffffff name=msapplication-navbutton-color> <meta content=black-translucent name=apple-mobile-web-app-status-bar-style> <meta content=/ name=msapplication-starturl> <meta content=website property=og:type> <meta content=WhatWebCanDo property=og:site_name> <meta content=summary name=twitter:card> <meta content=@WhatWebCanDo name=twitter:site> </head> <body> <div id=sapper> <header class="svelte-1cc53ms text-center"> <nav> <ul class=svelte-1cc53ms> <li class=svelte-1cc53ms><a href=. class=svelte-1cc53ms>Features</a></li> <li class=svelte-1cc53ms><a href=/articles/ class=svelte-1cc53ms>Articles</a></li> <li class=svelte-1cc53ms><a href=https://adambar.pl/#services rel=noopener target=_blank class=svelte-1cc53ms>Services</a></li> <li class=svelte-1cc53ms><a href=https://adambar.pl/#workshops rel=noopener target=_blank class=svelte-1cc53ms>Trainings</a></li> </ul> </nav> <div class="svelte-1cc53ms title-container"> <h1 class=svelte-1cc53ms>What Web Can Do Today?</h1> <p class=svelte-1cc53ms>Can I rely on the Web Platform features to build my app?</p> <p class=svelte-1cc53ms>An overview of the device integration HTML5 APIs</p> </div> </header> <main class="svelte-126eukc page"> <nav aria-label=breadcrumbs class=breadcrumb> <ul> <li><a href=/ >Features</a></li> <li class=is-active><a href=/clipboard.html aria-current=page>Clipboard (Copy & Paste)</a></li> </ul> </nav> <article> <h2>Clipboard (Copy & Paste)</h2> <section> <p>The <b>Clipboard API</b> gives Web applications a way to react on cut, copy and paste operations performed by the user as well as read from or write to the system clipboard directly on behalf of user.<p>There are two flavors of Clipboard API available - the older, synchronous, and the newer, asynchronous. The newer API is limited to HTTPS and require explicit <a href=/permissions.html>user permission</a> for pasting operation â€“ it is not available in Safari as of early 2020, though. The older API did not address privacy concerns properly and thus pasting is no longer functional in most browsers.</p> </section> <section> <h3>API glimpse</h3> <div class="language-javascript api-glimpse"><p><b>Older, synchronous API</b></p> <dl> <dt><code>document.addEventListener('cut/copy/paste', listener)</code></dt> <dd>An event fired when the user invoked the particular clipboard operation (either cut, copy or paste).</dd> <dt><code>event.clipboardData.setData('text/plain', data)</code></dt> <dd>Sets the data that is to be written to the clipboard by the cut or copy operations in the specified format.</dd> <dt><code>event.clipboardData.getData('text/plain')</code></dt> <dd>Returns the data that has been read from the clipboard by the paste operation in the specified format.</dd> <dt><code>document.execCommand('cut/copy/paste')</code></dt> <dd>Programatically invokes the specified clipboard operation (either cut, copy or paste) on the data or element currently having a focus.</dd> </dl> <p><b>Newer, asynchronous API</b></p> <dl> <dt><code>navigator.clipboard.writeText(text)</code></dt> <dd>Writes the text to the clipboard. Returns a <code>Promise</code> resolved when the operation has succeeded.</dd> <dt><code>navigator.clipboard.readText()</code></dt> <dd>Returns a <code>Promise</code> resolved with the text read from the clipboard.</dd> <dt><code>navigator.clipboard.write(new ClipboardItem(data))</code></dt> <dd>Writes the generic <code>ClipboardItem</code> data to the clipboard, allowing it to handle objects of different types, i.e. images. Returns a <code>Promise</code> resolved when the operation has succeeded.</dd> <dt><code>const clipboardItem = await navigator.clipboard.read()</code></dt> <dd>Returns a <code>Promise</code> resolved with the array of <code>ClipboardItem</code>s read from the clipboard.</dd> <dt><code>const blob = await clipboardItem.getType(type)</code></dt> <dd>Returns a <code>Promise</code> resolved with the data of requested <code>type</code> read from the clipboard.</dd> </dl></div> </section> <section> <h3>Live Demo</h3> <div class="svelte-126eukc demo-placeholder"> <style></style> <p class=heading>Use the forms below for programmatic clipboard access or invoke standard copy/cut/paste operations with your keyboard.</p> <section> <label><input name=api type=radio value=sync> Use older, synchronous API</label><br> <label><input name=api type=radio checked value=async> Use newer, asynchronous API</label> </section> <section> <h2>Cut/Paste Example</h2> <p> <textarea class=js-cuttextarea>Hello! Cut me programatically or maybe try pasting here.</textarea> </p> <p> <button class=js-textareacutbtn>Cut text programatically</button> <button class=js-textareapastebtn>Paste text programatically</button> </p> </section> <section> <h2>Copy Example</h2> <p>Email me at <a href=mailto:matt@example.co.uk class=js-emaillink>matt@example.co.uk</a></p> <p> <button class=js-emailcopybtn>Copy Email Address programatically</button> </p> </section> <p id=logTarget></p> <p><small>Demo based on <a href=https://googlechrome.github.io/samples/cut-and-copy/index.html rel=noopener target=_blank>Google Chrome examples</a>.</small></p> </div> <ul class="svelte-126eukc tabs"> <li class="svelte-126eukc tab"> <input name=tabs type=radio checked class=svelte-126eukc id=demo-code-js> <label class=svelte-126eukc for=demo-code-js>JavaScript</label> <pre class="svelte-126eukc demo-code-tab" id=demo-code-content-js><code class=language-javascript>var logTarget = document.getElementById('logTarget');

function useAsyncApi() {
  return document.querySelector('input[value=async]').checked;
}

function log(event) {
  var timeBadge = new Date().toTimeString().split(' ')[0];
  var newInfo = document.createElement('p');
  newInfo.innerHTML = '&lt;span class="badge">' + timeBadge + '&lt;/span> ' + event + '&lt;/b>.';
  logTarget.appendChild(newInfo);
}

function performCopyEmail() {
  var selection = window.getSelection();
  var emailLink = document.querySelector('.js-emaillink');

  if (useAsyncApi()) {
    navigator.clipboard.writeText(emailLink.textContent)
      .then(() => log('Async writeText successful, "' + emailLink.textContent + '" written'))
      .catch(err => log('Async writeText failed with error: "' + err + '"'));
  } else {
    selection.removeAllRanges();
    var range = document.createRange();
    range.selectNode(emailLink);
    selection.addRange(range);
  
    try {
      var successful = document.execCommand('copy');
      var msg = successful ? 'successful' : 'unsuccessful';
      log('Copy email command was ' + msg);
    } catch (err) {
      log('execCommand Error', err);
    }
    
    selection.removeAllRanges();
  }
}

function performCutTextarea() {
  var cutTextarea = document.querySelector('.js-cuttextarea');

  if (useAsyncApi()) {
    navigator.clipboard.writeText(cutTextarea.textContent)
      .then(() => {
        log('Async writeText successful, "' + cutTextarea.textContent + '" written');
        cutTextarea.textContent = '';
      })
      .catch(err => log('Async writeText failed with error: "' + err + '"'));
  } else {
    var hasSelection = document.queryCommandEnabled('cut');
    cutTextarea.select();
  
    try {
      var successful = document.execCommand('cut');
      var msg = successful ? 'successful' : 'unsuccessful';
      log('Cutting text command was ' + msg);
    } catch (err) {
      log('execCommand Error', err);
    }
  }
}

function performPaste() {
  var pasteTextarea = document.querySelector('.js-cuttextarea');
  
  if (useAsyncApi()) {
    navigator.clipboard.readText()
      .then((text) => {
        pasteTextarea.textContent = text;
        log('Async readText successful, "' + text + '" written');
      })
      .catch((err) => log('Async readText failed with error: "' + err + '"'));
  } else {
    pasteTextarea.focus();
    try {
      var successful = document.execCommand('paste');
      var msg = successful ? 'successful' : 'unsuccessful';
      log('Pasting text command was ' + msg);
    } catch (err) {
      log('execCommand Error', err);
    }
  }
}

// Get the buttons
var cutTextareaBtn = document.querySelector('.js-textareacutbtn');
var copyEmailBtn = document.querySelector('.js-emailcopybtn');
var pasteTextareaBtn = document.querySelector('.js-textareapastebtn');

// Add click event listeners
copyEmailBtn.addEventListener('click', performCopyEmail);
cutTextareaBtn.addEventListener('click', performCutTextarea);
pasteTextareaBtn.addEventListener('click', performPaste);

function logUserOperation(event) {
  log('User performed &lt;b>' + event.type + '&lt;/b> operation. Payload is: &lt;b>' + event.clipboardData.getData('text/plain') + '&lt;/b>');
}

document.addEventListener('cut', logUserOperation);
document.addEventListener('copy', logUserOperation);
document.addEventListener('paste', logUserOperation);</code></pre> </li> <li class="svelte-126eukc tab"> <input name=tabs type=radio class=svelte-126eukc id=demo-code-html> <label class=svelte-126eukc for=demo-code-html>HTML</label> <pre class="svelte-126eukc demo-code-tab" id=demo-code-content-html><code class=language-html>&lt;p class="heading">Use the forms below for programmatic clipboard access or invoke standard copy/cut/paste operations with your keyboard.&lt;/p>
&lt;section>
  &lt;label>&lt;input type="radio" name="api" value="sync"> Use older, synchronous API&lt;/label>&lt;br/>
  &lt;label>&lt;input type="radio" name="api" value="async" checked> Use newer, asynchronous API&lt;/label>
&lt;/section>
&lt;section>
  &lt;h2>Cut/Paste Example&lt;/h2>
  &lt;p>
    &lt;textarea class="js-cuttextarea">Hello! Cut me programatically or maybe try pasting here.&lt;/textarea>
  &lt;/p>

  &lt;p>
    &lt;button class="js-textareacutbtn">Cut text programatically&lt;/button>
    &lt;button class="js-textareapastebtn">Paste text programatically&lt;/button>
  &lt;/p>
&lt;/section>

&lt;section>
  &lt;h2>Copy Example&lt;/h2>
  &lt;p>Email me at &lt;a class="js-emaillink" href="mailto:matt@example.co.uk">matt@example.co.uk&lt;/a>&lt;/p>
  &lt;p>
    &lt;button class="js-emailcopybtn">Copy Email Address programatically&lt;/button>
  &lt;/p>
&lt;/section>

&lt;p id="logTarget">&lt;/p>

&lt;p>&lt;small>Demo based on &lt;a href="https://googlechrome.github.io/samples/cut-and-copy/index.html" target="_blank" rel="noopener">Google Chrome examples&lt;/a>.&lt;/small>&lt;/p></code></pre> </li> </ul> </section> <section aria-hidden=true> <h3>Browser support</h3> <div class=caniuse-report> <div class="svelte-126eukc row"> <div class="svelte-126eukc col-sm-6 ct-chart browsers-chart"></div> <div class="svelte-126eukc col-sm-6 ct-chart overall-chart"></div> </div> <div class="svelte-126eukc row"> <div class="svelte-126eukc legend"> <ul class=svelte-126eukc> <li class=svelte-126eukc><i class="cl-support cl-support-no"></i> No support</li> <li class=svelte-126eukc><i class="cl-support cl-support-partial"></i> Partial support, <a href="http://caniuse.com/#feat=clipboard" rel=noopener target=_blank>see details</a></li> <li class=svelte-126eukc><i class="cl-support cl-support-full"></i> Full support</li> </ul> </div> <div class="svelte-126eukc text-right"> <a href="http://caniuse.com/#feat=clipboard" rel=noopener target=_blank>Data from caniuse.com</a>, <small>CC-BY 4.0 license</small> </div> </div> </div> </section> <section> <h3>Resources</h3> <ul class=resources> <li><a href=https://w3c.github.io/clipboard-apis/ rel=noopener target=_blank>Specification Draft</a><li><a href=https://developers.google.com/web/updates/2018/03/clipboardapi rel=noopener target=_blank>Unblocking Clipboard Access</a><li><a href=https://web.dev/image-support-for-async-clipboard/ rel=noopener target=_blank>Image support for the async clipboard API</a><li><a href=https://developer.mozilla.org/en-US/docs/Web/API/ClipboardEvent rel=noopener target=_blank>MDN: ClipboardEvent (old, synchronous API)</a><li><a href=https://www.lucidchart.com/techblog/2014/12/02/definitive-guide-copying-pasting-javascript/ rel=noopener target=_blank>The Definitive Guide to Copying and Pasting in JavaScript (old, synchronous API)</a></li> </ul> </section> </article> </main> <div class="svelte-p0dnmz loader" aria-hidden=true> <div class="svelte-p0dnmz lds-ellipsis"> <div class=svelte-p0dnmz></div><div class=svelte-p0dnmz></div><div class=svelte-p0dnmz></div><div class=svelte-p0dnmz></div> </div> </div> <div class="svelte-btjd4g container" aria-label="Website footer"> <div class="text-center contact"> <h2 class=svelte-btjd4g>Get in touch</h2> <ul class=svelte-btjd4g> <li class=svelte-btjd4g><a href=mailto:hi@adambar.pl class="svelte-btjd4g icon mail-icon">Mail</a></li> <li class=svelte-btjd4g><a href=https://twitter.com/WhatWebCanDo rel="noreferrer noopener" target=_blank class="svelte-btjd4g icon twitter-icon">Twitter</a></li> <li class=svelte-btjd4g><a href=https://linkedin.com/in/adamrbar rel="noreferrer noopener" target=_blank class="svelte-btjd4g icon linkedin-icon">LinkedIn</a></li> <li class=svelte-btjd4g><a href=https://github.com/NOtherDev/whatwebcando rel="noreferrer noopener" target=_blank class="svelte-btjd4g icon github-icon">GitHub</a></li> </ul> </div> <footer class=svelte-btjd4g role=contentinfo> <p class=text-left><a href=/privacy.html class=svelte-btjd4g>Privacy Policy</a></p> <p class=text-right> Created by <a href=https://adambar.pl rel=noopener target=_blank class=svelte-btjd4g>Adam Bar</a><br> Licenced under <a href=https://creativecommons.org/licenses/by-sa/4.0/ rel="noreferrer noopener" target=_blank class=svelte-btjd4g>CC-BY-SA 4.0</a> </p> </footer> </div></div> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,]};if('serviceWorker' in navigator) window.addEventListener('load',function(){navigator.serviceWorker.register('/service-worker.js');});(function(){try{eval("async function x(){}");var main="/client/client.813f3e59.js"}catch(e){main="/client/legacy/client.156a0f57.js"};var s=document.createElement("script");try{new Function("if(0)import('')")();s.src=main;s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@1.0.1.js";s.setAttribute("data-main",main);}document.head.appendChild(s);}());</script> 