<!doctype html> <html lang=en> <head> <meta charset=utf-8> <meta content="Can I rely on the Web Platform features to build my app? An overview of the device integration HTML5 APIs" name=description> <meta content="width=device-width,initial-scale=1" name=viewport> <base href=/ > <link href=https://fonts.gstatic.com/s/sourcesanspro/v13/6xK3dSBYKcSV-LCoeQqfX1RYOo3qOK7lujVj9w.woff2 rel=preload type=font/woff2 as=font crossorigin=anonymous> <link href=https://fonts.gstatic.com/s/sourcesanspro/v13/6xKydSBYKcSV-LCoeQqfX1RYOo3ig4vwlxdu3cOWxw.woff2 rel=preload type=font/woff2 as=font crossorigin=anonymous> <link href=/Material-Design-Icons.woff rel=preload type=font/woff2 as=font crossorigin=anonymous> <style>@font-face{font-family:'Source Sans Pro';font-style:normal;font-weight:400;font-display:swap;src:local('Source Sans Pro Regular'),local('SourceSansPro-Regular'),url(https://fonts.gstatic.com/s/sourcesanspro/v13/6xK3dSBYKcSV-LCoeQqfX1RYOo3qOK7lujVj9w.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Source Sans Pro';font-style:normal;font-weight:700;font-display:swap;src:local('Source Sans Pro Bold'),local('SourceSansPro-Bold'),url(https://fonts.gstatic.com/s/sourcesanspro/v13/6xKydSBYKcSV-LCoeQqfX1RYOo3ig4vwlxdu3cOWxw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:"Material Design Icons";src:url(/Material-Design-Icons.woff) format("woff");font-weight:400;font-style:normal}</style> <link href=icon-76x76.png rel=apple-touch-icon sizes="60x60 72x72 76x76"> <link href=icon-120x120.png rel=apple-touch-icon sizes="114x114 120x120"> <link href=icon-144x144.png rel=apple-touch-icon sizes=144x144> <link href=icon-152x152.png rel=apple-touch-icon sizes=152x152> <link href=icon-180x180.png rel=apple-touch-icon sizes="167x167 180x180"> <link href=icon-32x32.png rel=icon sizes="16x16 32x32" type=image/png> <link href=icon-96x96.png rel=icon sizes=96x96 type=image/png> <link href=icon-192x192.png rel=icon sizes=192x192 type=image/png> <link href=manifest.json rel=manifest> <link href=client/main.4188134553.css rel=stylesheet><link href=client/[feature].html.2825da7c.css rel=stylesheet><link href=client/prism.3fa19f60.css rel=stylesheet> <noscript id=sapper-head-start></noscript><title>What Web Can Do Today: Device Motion</title> <meta content="What Web Can Do Today: Device Motion" property=og:title> <meta content="Can I rely on the Web Platform features to build my app? An overview of the device integration HTML5 APIs." property=og:description> <meta content=https://whatwebcando.today/device-motion.html property=og:url> <meta content=https://whatwebcando.today/images/share-image.png property=og:image> <meta content="What Web Can Do Today: Device Motion" name=twitter:title> <meta content="Can I rely on the Web Platform features to build my app? An overview of the device integration HTML5 APIs." name=twitter:description> <meta content=https://whatwebcando.today/images/share-image.png name=twitter:image><noscript id=sapper-head-end></noscript> <meta content=yes name=apple-mobile-web-app-capable> <meta content=yes name=mobile-web-app-capable> <meta content="What Web Can Do Today" name=application-name> <meta content="What Web Can Do" name=apple-mobile-web-app-title> <meta content=https://whatwebcando.today/icon-144x144.png name=msapplication-TileImage> <meta content=#ffffff name=theme-color> <meta content=#ffffff name=msapplication-navbutton-color> <meta content=black-translucent name=apple-mobile-web-app-status-bar-style> <meta content=/ name=msapplication-starturl> <meta content=website property=og:type> <meta content=WhatWebCanDo property=og:site_name> <meta content=summary name=twitter:card> <meta content=@WhatWebCanDo name=twitter:site> </head> <body> <div id=sapper> <header class="svelte-1cc53ms text-center"> <nav> <ul class=svelte-1cc53ms> <li class=svelte-1cc53ms><a href=. class=svelte-1cc53ms>Features</a></li> <li class=svelte-1cc53ms><a href=/articles/ class=svelte-1cc53ms>Articles</a></li> <li class=svelte-1cc53ms><a href=https://adambar.pl/#services rel=noopener target=_blank class=svelte-1cc53ms>Services</a></li> <li class=svelte-1cc53ms><a href=https://adambar.pl/#workshops rel=noopener target=_blank class=svelte-1cc53ms>Trainings</a></li> </ul> </nav> <div class="svelte-1cc53ms title-container"> <h1 class=svelte-1cc53ms>What Web Can Do Today?</h1> <p class=svelte-1cc53ms>Can I rely on the Web Platform features to build my app?</p> <p class=svelte-1cc53ms>An overview of the device integration HTML5 APIs</p> </div> </header> <main class="svelte-126eukc page"> <nav aria-label=breadcrumbs class=breadcrumb> <ul> <li><a href=/ >Features</a></li> <li class=is-active><a href=/device-motion.html aria-current=page>Device Motion</a></li> </ul> </nav> <article> <h2>Device Motion</h2> <section> <p>The first-generation device motions support is a part of <b>Device Orientation API</b>. It allows Web applications to access the accelerometer data expressed as acceleration (in m/s<sup>2</sup>) and gyroscope data expressed as rotation angle change (in Â°/s) for each of the three dimensions, provided as events.<p>Since mid-2018 the newer, separate specifications for each sensor type, based on the <b>Generic Sensor API</b> are being introduced. The APIs providing direct access to the readings of physical devices (<b>Accelerometer API</b>, <b>Gyroscope API</b> and <b>Magnetometer API</b>) as well as high-level fusion sensors made up by combining the readings of the physical sensors (<b>Linear Acceleration Sensor API</b> and <b>Gravity Sensor API</b>).<p>For the detection of the device's static position and orientation, see <a href=/device-position.html>Device Position</a>.</p> </section> <section> <h3>API glimpse</h3> <div class="language-javascript api-glimpse"><p><b>As a part of (older) Device Orientation API</b></p> <dl> <dt><code>window.addEventListener('devicemotion', listener)</code></dt> <dd>An event fired when the significant changes in the device's acceleration or rotation has occured.</dd> <dt><code>event.acceleration</code></dt> <dd>A part of the event's payload returning the data about the current device's acceleration excluding gravity for all three axes (<code>acceleration.x</code>, <code>acceleration.y</code>, <code>acceleration.z</code>).</dd> <dt><code>event.accelerationIncludingGravity</code></dt> <dd>A part of the event's payload returning the data about the current device's acceleration including gravity if the device is unable to provide the data without the gravity effect using <code>event.acceleration</code>.</dd> <dt><code>event.rotationRate</code></dt> <dd>A part of the event's payload returning the data about the current device's rotation rates for all three axes (<code>rotationRate.alpha</code>, <code>rotationRate.beta</code>, <code>rotationRate.gamma</code>).</dd> <dt><code>event.interval</code></dt> <dd>A part of the event's payload returning the interval (in ms) at which the data is obtained from the accelerometer.</dd> </dl> <p><b>Accelerometer API</b></p> <dl> <dt><code>sensor = new Accelerometer()</code></dt> <dd>Creates an object serving as a direct accessor to the accelerometer readings.</dd> <dt><code>sensor.addEventListener('reading', listener)</code></dt> <dd>An event fired when the accelerometer reading has changed, indicating that the sensor object contains updated acceleration in rad/s for all three axes (<code>sensor.x</code>, <code>sensor.y</code>, <code>sensor.z</code>).</dd> <dt><code>sensor.start()</code></dt> <dd>Starts listening for the sensor readings.</dd> </dl> <p><b>Gyroscope API</b></p> <dl> <dt><code>sensor = new Gyroscope()</code></dt> <dd>Creates an object serving as a direct accessor to the gyroscope readings.</dd> <dt><code>sensor.addEventListener('reading', listener)</code></dt> <dd>An event fired when the gyroscope reading has changed, indicating that the sensor object contains updated angular velocity in rad/s for all three axes (<code>sensor.x</code>, <code>sensor.y</code>, <code>sensor.z</code>).</dd> <dt><code>sensor.start()</code></dt> <dd>Starts listening for the sensor readings.</dd> </dl> <p><b>Magnetometer API</b></p> <dl> <dt><code>sensor = new Magnetometer()</code></dt> <dd>Creates an object serving as a direct accessor to the magnetometer readings.</dd> <dt><code>sensor.addEventListener('reading', listener)</code></dt> <dd>An event fired when the magnetometer reading has changed, indicating that the sensor object contains updated magnetic field for all three axes (<code>sensor.x</code>, <code>sensor.y</code>, <code>sensor.z</code>).</dd> <dt><code>sensor.start()</code></dt> <dd>Starts listening for the sensor readings.</dd> </dl> <p><b>Linear Acceleration Sensor API</b></p> <dl> <dt><code>sensor = new LinearAccelerationSensor()</code></dt> <dd>Creates an object serving as an accessor to the linear acceleration readings based on accelerometer and either gyroscope or magnetometer.</dd> <dt><code>sensor.addEventListener('reading', listener)</code></dt> <dd>An event fired when the accelerometer reading has changed, indicating that the sensor object contains updated acceleration values in m/s<sup>2</sup> for all three axes (<code>sensor.x</code>, <code>sensor.y</code>, <code>sensor.z</code>).</dd> <dt><code>sensor.start()</code></dt> <dd>Starts listening for the sensor readings.</dd> </dl> <p><b>Gravity Sensor API</b></p> <dl> <dt><code>sensor = new GravitySensor()</code></dt> <dd>Creates an object serving as an accessor to the gravity readings based on accelerometer and gyroscope.</dd> <dt><code>sensor.addEventListener('reading', listener)</code></dt> <dd>An event fired when the accelerometer reading has changed, indicating that the sensor object contains updated acceleration values in m/s<sup>2</sup> for all three axes (<code>sensor.x</code>, <code>sensor.y</code>, <code>sensor.z</code>).</dd> <dt><code>sensor.start()</code></dt> <dd>Starts listening for the sensor readings.</dd> </dl></div> </section> <section> <h3>Live Demo</h3> <div class="svelte-126eukc demo-placeholder"> <style></style> <table> <tr> <td>API used</td> <td id=moApi></td> </tr> <tr> <td>linear acceleration (excl. gravity)</td> <td id=moAccel></td> </tr> <tr> <td>acceleration incl. gravity</td> <td id=moAccelGrav></td> </tr> <tr> <td>rotation rate</td> <td id=moRotation></td> </tr> <tr> <td>interval (ms)</td> <td id=moInterval></td> </tr> </table> <p><small>Demo based on <a href=https://www.html5rocks.com/en/tutorials/device/orientation/ rel=noopener target=_blank>HTML5 Rocks</a> article.</small></p> </div> <ul class="svelte-126eukc tabs"> <li class="svelte-126eukc tab"> <input class=svelte-126eukc id=demo-code-js name=tabs type=radio checked> <label class=svelte-126eukc for=demo-code-js>JavaScript</label> <pre class="svelte-126eukc demo-code-tab" id=demo-code-content-js><code class=language-javascript>if ('LinearAccelerationSensor' in window && 'Gyroscope' in window) {
  document.getElementById('moApi').innerHTML = 'Generic Sensor API';
  
  let lastReadingTimestamp;
  let accelerometer = new LinearAccelerationSensor();
  accelerometer.addEventListener('reading', e => {
    if (lastReadingTimestamp) {
      intervalHandler(Math.round(accelerometer.timestamp - lastReadingTimestamp));
    }
    lastReadingTimestamp = accelerometer.timestamp
    accelerationHandler(accelerometer, 'moAccel');
  });
  accelerometer.start();
  
  if ('GravitySensor' in window) {
    let gravity = new GravitySensor();
    gravity.addEventListener('reading', e => accelerationHandler(gravity, 'moAccelGrav'));
    gravity.start();
  }
  
  let gyroscope = new Gyroscope();
  gyroscope.addEventListener('reading', e => rotationHandler({
    alpha: gyroscope.x,
    beta: gyroscope.y,
    gamma: gyroscope.z
  }));
  gyroscope.start();
  
} else if ('DeviceMotionEvent' in window) {
  document.getElementById('moApi').innerHTML = 'Device Motion API';
  
  var onDeviceMotion = function (eventData) {
    accelerationHandler(eventData.acceleration, 'moAccel');
    accelerationHandler(eventData.accelerationIncludingGravity, 'moAccelGrav');
    rotationHandler(eventData.rotationRate);
    intervalHandler(eventData.interval);
  }
  
  window.addEventListener('devicemotion', onDeviceMotion, false);
} else {
  document.getElementById('moApi').innerHTML = 'No Accelerometer & Gyroscope API available';
}

function accelerationHandler(acceleration, targetId) {
  var info, xyz = "[X, Y, Z]";

  info = xyz.replace("X", acceleration.x && acceleration.x.toFixed(3));
  info = info.replace("Y", acceleration.y && acceleration.y.toFixed(3));
  info = info.replace("Z", acceleration.z && acceleration.z.toFixed(3));
  document.getElementById(targetId).innerHTML = info;
}

function rotationHandler(rotation) {
  var info, xyz = "[X, Y, Z]";

  info = xyz.replace("X", rotation.alpha && rotation.alpha.toFixed(3));
  info = info.replace("Y", rotation.beta && rotation.beta.toFixed(3));
  info = info.replace("Z", rotation.gamma && rotation.gamma.toFixed(3));
  document.getElementById("moRotation").innerHTML = info;
}

function intervalHandler(interval) {
  document.getElementById("moInterval").innerHTML = interval;
}</code></pre> </li> <li class="svelte-126eukc tab"> <input class=svelte-126eukc id=demo-code-html name=tabs type=radio> <label class=svelte-126eukc for=demo-code-html>HTML</label> <pre class="svelte-126eukc demo-code-tab" id=demo-code-content-html><code class=language-html>&lt;table>
  &lt;tr>
    &lt;td>API used&lt;/td>
    &lt;td id="moApi">&lt;/td>
  &lt;/tr>
  &lt;tr>
    &lt;td>linear acceleration (excl. gravity)&lt;/td>
    &lt;td id="moAccel">&lt;/td>
  &lt;/tr>
  &lt;tr>
    &lt;td>acceleration incl. gravity&lt;/td>
    &lt;td id="moAccelGrav">&lt;/td>
  &lt;/tr>
  &lt;tr>
    &lt;td>rotation rate&lt;/td>
    &lt;td id="moRotation">&lt;/td>
  &lt;/tr>
  &lt;tr>
    &lt;td>interval (ms)&lt;/td>
    &lt;td id="moInterval">&lt;/td>
  &lt;/tr>
&lt;/table>

&lt;p>&lt;small>Demo based on &lt;a href="https://www.html5rocks.com/en/tutorials/device/orientation/" target="_blank" rel="noopener">HTML5 Rocks&lt;/a> article.&lt;/small>&lt;/p></code></pre> </li> </ul> </section> <section aria-hidden=true> <h3>Browser support</h3> <div class=caniuse-report> <div class="svelte-126eukc row"> <div class="svelte-126eukc col-sm-6 ct-chart browsers-chart"></div> <div class="svelte-126eukc col-sm-6 ct-chart overall-chart"></div> </div> <div class="svelte-126eukc row"> <div class="svelte-126eukc legend"> <ul class=svelte-126eukc> <li class=svelte-126eukc><i class="cl-support cl-support-no"></i> No support</li> <li class=svelte-126eukc><i class="cl-support cl-support-partial"></i> Partial support, <a href="http://caniuse.com/#feat=deviceorientation" rel=noopener target=_blank>see details</a></li> <li class=svelte-126eukc><i class="cl-support cl-support-full"></i> Full support</li> </ul> </div> <div class="svelte-126eukc text-right"> <a href="http://caniuse.com/#feat=deviceorientation" rel=noopener target=_blank>Data from caniuse.com</a>, <small>CC-BY 4.0 license</small> </div> </div> </div> </section> <section> <h3>Resources</h3> <ul class=resources> <li><a href=https://w3c.github.io/deviceorientation/spec-source-orientation.html#devicemotion rel=noopener target=_blank>Device Orientation API Specification Draft</a><li><a href=https://w3c.github.io/accelerometer/ rel=noopener target=_blank>Accelerometer API Specification Draft</a><li><a href=https://w3c.github.io/gyroscope/ rel=noopener target=_blank>Gyroscope API Specification Draft</a><li><a href=https://w3c.github.io/sensors/ rel=noopener target=_blank>Generic Sensor API Specification Draft</a><li><a href=https://www.w3.org/TR/motion-sensors/ rel=noopener target=_blank>Motion Sensors Explainer</a><li><a href=https://developers.google.com/web/updates/2017/09/sensors-for-the-web rel=noopener target=_blank>Google Developers: Sensors For The Web</a><li><a href=https://github.com/kenchris/sensor-polyfills rel=noopener target=_blank>Polyfills for the W3C Generic Sensor APIs</a></li> </ul> </section> </article> </main> <div class="svelte-p0dnmz loader" aria-hidden=true> <div class="svelte-p0dnmz lds-ellipsis"> <div class=svelte-p0dnmz></div><div class=svelte-p0dnmz></div><div class=svelte-p0dnmz></div><div class=svelte-p0dnmz></div> </div> </div> <div class="svelte-btjd4g container" aria-label="Website footer"> <div class="text-center contact"> <h2 class=svelte-btjd4g>Get in touch</h2> <ul class=svelte-btjd4g> <li class=svelte-btjd4g><a href=mailto:hi@adambar.pl class="svelte-btjd4g icon mail-icon">Mail</a></li> <li class=svelte-btjd4g><a href=https://twitter.com/WhatWebCanDo rel="noreferrer noopener" target=_blank class="svelte-btjd4g icon twitter-icon">Twitter</a></li> <li class=svelte-btjd4g><a href=https://linkedin.com/in/adamrbar rel="noreferrer noopener" target=_blank class="svelte-btjd4g icon linkedin-icon">LinkedIn</a></li> <li class=svelte-btjd4g><a href=https://github.com/NOtherDev/whatwebcando rel="noreferrer noopener" target=_blank class="svelte-btjd4g icon github-icon">GitHub</a></li> </ul> </div> <footer class=svelte-btjd4g role=contentinfo> <p class=text-left><a href=/privacy.html class=svelte-btjd4g>Privacy Policy</a></p> <p class=text-right> Created by <a href=https://adambar.pl rel=noopener target=_blank class=svelte-btjd4g>Adam Bar</a><br> Licenced under <a href=https://creativecommons.org/licenses/by-sa/4.0/ rel="noreferrer noopener" target=_blank class=svelte-btjd4g>CC-BY-SA 4.0</a> </p> </footer> </div></div> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,]};if('serviceWorker' in navigator) window.addEventListener('load',function(){navigator.serviceWorker.register('/service-worker.js');});(function(){try{eval("async function x(){}");var main="/client/client.813f3e59.js"}catch(e){main="/client/legacy/client.156a0f57.js"};var s=document.createElement("script");try{new Function("if(0)import('')")();s.src=main;s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@1.0.1.js";s.setAttribute("data-main",main);}document.head.appendChild(s);}());</script> 